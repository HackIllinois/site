(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{3454:function(t,n,e){"use strict";var r,o;t.exports=(null==(r=e.g.process)?void 0:r.env)&&"object"===typeof(null==(o=e.g.process)?void 0:o.env)?e.g.process:e(7663)},2304:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return e(5212)}])},5212:function(t,n,e){"use strict";e.r(n);var r=e(5893),o=e(7294),u=e(1163),i=e(9284);n.default=function(){var t=(0,u.useRouter)();return(0,o.useEffect)((function(){if(t.isReady){var n=t.query,e=n.code,r=n.isAndroid,o=n.isiOS,u=n.to;if(e)if(r||o){var c="hackillinois://org.hackillinois.".concat(r?"android":"ios","/auth?code=").concat(e);t.replace(c)}else(0,i.LP)(e).then((function(n){sessionStorage.setItem("token",n),t.replace(u)}));else t.replace("/")}}),[t.isReady]),(0,r.jsx)("div",{children:"Loading..."})}},9284:function(t,n,e){"use strict";e.d(n,{$8:function(){return d},ED:function(){return E},EH:function(){return w},F3:function(){return g},LP:function(){return v},YH:function(){return m},YR:function(){return y},g$:function(){return _},o8:function(){return b},z2:function(){return T}});var r=e(7568),o=e(1438),u=e(8668),i=e(5892),c=e(1224),f=e(655),s=e(3454),a="https://api.hackillinois.org",l=function(t){(0,u.Z)(e,t);var n=(0,c.Z)(e);function e(t){var r,u=t.message,i=t.status,c=t.type;return(0,o.Z)(this,e),(r=n.call(this,u)).status=i,r.type=c,r.name="APIError",r}return e}((0,i.Z)(Error));function p(t,n,e){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((function(t,n,e){var r,o;return(0,f.__generator)(this,(function(u){switch(u.label){case 0:return[4,fetch(a+n,{method:t,headers:{Authorization:sessionStorage.getItem("token")||"","Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:return 200===(r=u.sent()).status?[3,3]:(o=l.bind,[4,r.json()]);case 2:throw new(o.apply(l,[void 0,u.sent()]));case 3:return[2,r.json()]}}))}))).apply(this,arguments)}var d=function(){return sessionStorage.getItem("token")};function y(t){s.env.REACT_APP_TOKEN?sessionStorage.setItem("token",s.env.REACT_APP_TOKEN):(t="".concat("https://hackillinois.org","/auth/?to=").concat(t),t="".concat(a,"/auth/github/?redirect_uri=").concat(t)),window.location.replace(t)}function v(t){return p("POST","/auth/code/github/",{code:t}).then((function(t){return t.token}))}function g(){return p("GET","/auth/roles/").then((function(t){return t.roles}))}function w(t){return p("GET","/registration/".concat(t,"/"))}function T(t,n,e){return p(t?"PUT":"POST","/registration/".concat(n,"/"),e)}function m(t,n){return p(t?"PUT":"POST","/rsvp/",n)}function b(){return p("GET","/user/qr/")}function _(){return p("GET","/auth/token/refresh/").then((function(t){return sessionStorage.setItem("token",t.token)}))}function E(t,n){return p(t?"PUT":"POST","/profile/",n)}},7663:function(t){!function(){var n={229:function(t){var n,e,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function i(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(r){try{return n.call(null,t,0)}catch(r){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{e="function"===typeof clearTimeout?clearTimeout:u}catch(t){e=u}}();var c,f=[],s=!1,a=-1;function l(){s&&c&&(s=!1,c.length?f=c.concat(f):a=-1,f.length&&p())}function p(){if(!s){var t=i(l);s=!0;for(var n=f.length;n;){for(c=f,f=[];++a<n;)c&&c[a].run();a=-1,n=f.length}c=null,s=!1,function(t){if(e===clearTimeout)return clearTimeout(t);if((e===u||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}(t)}}function h(t,n){this.fun=t,this.array=n}function d(){}r.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];f.push(new h(t,n)),1!==f.length||s||i(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},e={};function r(t){var o=e[t];if(void 0!==o)return o.exports;var u=e[t]={exports:{}},i=!0;try{n[t](u,u.exports,r),i=!1}finally{i&&delete e[t]}return u.exports}r.ab="//";var o=r(229);t.exports=o}()},1163:function(t,n,e){t.exports=e(387)},7568:function(t,n,e){"use strict";function r(t,n,e,r,o,u,i){try{var c=t[u](i),f=c.value}catch(s){return void e(s)}c.done?n(f):Promise.resolve(f).then(r,o)}function o(t){return function(){var n=this,e=arguments;return new Promise((function(o,u){var i=t.apply(n,e);function c(t){r(i,o,u,c,f,"next",t)}function f(t){r(i,o,u,c,f,"throw",t)}c(void 0)}))}}e.d(n,{Z:function(){return o}})},1438:function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.d(n,{Z:function(){return r}})},1224:function(t,n,e){"use strict";e.d(n,{Z:function(){return u}});var r=e(2662);function o(t,n){return!n||"object"!==((e=n)&&e.constructor===Symbol?"symbol":typeof e)&&"function"!==typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n;var e}function u(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,u=(0,r.Z)(t);if(n){var i=(0,r.Z)(this).constructor;e=Reflect.construct(u,arguments,i)}else e=u.apply(this,arguments);return o(this,e)}}},2662:function(t,n,e){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function o(t){return r(t)}e.d(n,{Z:function(){return o}})},8668:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var r=e(4998);function o(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&(0,r.Z)(t,n)}},4998:function(t,n,e){"use strict";function r(t,n){return r=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},r(t,n)}function o(t,n){return r(t,n)}e.d(n,{Z:function(){return o}})},5892:function(t,n,e){"use strict";e.d(n,{Z:function(){return s}});var r=e(4998);function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t,n,e){return u=o()?Reflect.construct:function(t,n,e){var o=[null];o.push.apply(o,n);var u=new(Function.bind.apply(t,o));return e&&(0,r.Z)(u,e.prototype),u},u.apply(null,arguments)}function i(t,n,e){return u.apply(null,arguments)}var c=e(2662);function f(t){var n="function"===typeof Map?new Map:void 0;return f=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(t))return n.get(t);n.set(t,o)}function o(){return i(t,arguments,(0,c.Z)(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,r.Z)(o,t)},f(t)}function s(t){return f(t)}}},function(t){t.O(0,[774,888,179],(function(){return n=2304,t(t.s=n);var n}));var n=t.O();_N_E=n}]);